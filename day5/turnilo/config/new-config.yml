# generated by Turnilo version 1.29.0
# for a more detailed walk-through go to: https://github.com/allegro/turnilo/blob/1.29.0/docs/configuration.md

port: 9090

clusters:
  - name: druid
    url: http://druid:8082
    sourceListScan: auto
    sourceListRefreshOnLoad: false
    sourceListRefreshInterval: 0
    sourceReintrospectOnLoad: false
    sourceReintrospectInterval: 0

customization:
dataCubes:
  - name: wordcount_v1
    title: wordcount_v1
    clusterName: druid
    source: wordcount_v1
    refreshRule:
      rule: query

    defaultSortMeasure: count
    introspection: autofill-all
    attributeOverrides:
    dimensions:
      - name: __time
        title: Time
        kind: time
        formula: $__time

      - name: emp_id
        title: Emp Id
        formula: $emp_id

      - name: word
        title: Word
        formula: $word

    measures:
      - name: count
        title: Count
        formula: $main.sum($count)

      - name: approx_distinct_word_count
        title: Approx Distinct Word Count
        formula: $main.countDistinct($approx_distinct_word_count)

      - name: distinct_word_count
        title: Distinct Word Count
        formula: $main.countDistinct($distinct_word_count)

      - name: word_count
        title: Word Count
        formula: $main.sum($word_count)


  - name: korean_movies
    title: korean_movies
    clusterName: druid
    source: korean_movies
    refreshRule:
      rule: query

    defaultSortMeasure: count
    introspection: autofill-all
    attributeOverrides:
    dimensions:
      - name: __time
        title: Time
        kind: time
        formula: $__time

      - name: grade
        title: Grade
        multiValue: true
        formula: $grade

      - name: movie
        title: Movie
        multiValue: true
        formula: $movie

      - name: title
        title: Title
        multiValue: true
        formula: $title

      - name: title_eng
        title: Title Eng
        multiValue: true
        formula: $title_eng

      - name: year
        title: Year
        multiValue: true
        formula: $year

    measures:
      - name: count
        title: Count
        formula: $main.sum($count)

